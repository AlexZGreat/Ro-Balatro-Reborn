[manifest]
version = "1.0.0"
dump_lua = true
priority = 0

# Increase highlight limit for consumables, taken from Cryptid
[[patches]]
[patches.pattern]
target = "game.lua"
pattern = "{card_limit = self.GAME.starting_params.consumable_slots, type = 'joker', highlight_limit = 1})"
position = "at"
payload = "{card_limit = self.GAME.starting_params.consumable_slots, type = 'joker', highlight_limit = 1e100})"
match_indent = true

# Remove use and sell buttons on pplaces
[[patches]]
[patches.pattern]
target = "card.lua"
pattern = "if self.highlighted and self.area and self.area.config.type ~= 'shop' then"
position = "at"
payload = "if self.highlighted and self.area and self.area.config.type ~= 'shop' and self.ability.set ~= 'place' then"
match_indent = true

[[patches]]
[patches.pattern]
target = "card.lua"
pattern = "elseif self.children.use_button then"
position = "at"
payload = "elseif self.children.use_button and self.ability.set ~= 'place' then"
match_indent = true
